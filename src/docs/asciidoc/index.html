<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="description" content="아카이브 오브 옹알 API 문서입니다.">
<meta name="author" content="Sangyeop. Nam">
<link rel="icon" type="image/x-icon" href="/Users/leaf/hoo/backend-universe/src/docs/asciidoc/images/favicon.ico">
<title>아카이브 오브 옹알 API 문서</title>
<style>
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

@font-face {
    font-family: "Apple SDGothic Neo";
    font-style: normal;
    font-weight: bold;
    src: url(../fonts/AppleSDGothicNeoM.woff) format("woff");
}

body {
    font-family: "Apple SDGothic Neo", sans-serif;
}

.admonitionblock td.content>.title, .audioblock>.title, .exampleblock>.title, .imageblock>.title, .listingblock>.title, .literalblock>.title, .stemblock>.title, .openblock>.title, .paragraph>.title, .quoteblock>.title, table.tableblock>.title, .verseblock>.title, .videoblock>.title, .dlist>.title, .olist>.title, .ulist>.title, .qlist>.title, .hdlist>.title {
    font-family: "Apple SDGothic Neo", sans-serif;
    color: seagreen;
}

h1, h2, h3, h4, h5, h6, #toctitle {
    font-family: "Apple SDGothic Neo", monospace;
    font-weight: bolder;
    color: #666;
}

h1 {
    color: black
}

h2 {
    color: darkcyan;
}

h3 {
    color: darkorange;
}

.hljs, pre, .literalblock pre, code, :not(pre):not([class^=L])>code{
    font-family: "Apple SDGothic Neo", sans-serif;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-wrap: anywhere;
    background: #e5e5e5;
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/.min.css">
<style>
/*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
.tabs {
    margin-bottom: 1.25em;
}

.tablist > ul {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
    margin: 0;
    padding: 0;
}

.tablist > ul li {
    align-items: center;
    background-color: #fff;
    cursor: pointer;
    display: flex;
    font-weight: bold;
    line-height: 1.5;
    padding: 0.25em 1em;
    position: relative;
}

.tablist > ul li:focus-visible {
    outline: none;
}

.tablist.ulist,
.tablist.ulist > ul li {
    margin: 0;
}

.tablist.ulist > ul li + li {
    margin-left: 0.25em;
}

.tabs .tablist li::after {
    content: "";
    display: block;
    height: 1px;
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
}

.tabs.is-loading .tablist li:not(:first-child),
.tabs:not(.is-loading) .tablist li:not(.is-selected) {
    background-color: #f5f5f5;
}

.tabs.is-loading .tablist li:first-child::after,
.tabs:not(.is-loading) .tablist li.is-selected::after {
    background-color: #fff;
}

/*
.tabs:not(.is-loading) .tablist li,
.tabs:not(.is-loading) .tablist li::after {
  transition: background-color 200ms ease-in-out;
}
*/

.tablist > ul p {
    line-height: inherit;
    margin: 0;
}

.tabpanel {
    background-color: #fff;
    padding: 1.25em;
}

.tablist > ul li,
.tabpanel {
    border: 1px solid #dcdcdc;
}

.tablist > ul li {
    border-bottom: 0;
}

.tabs.is-loading .tabpanel + .tabpanel,
.tabs:not(.is-loading) .tabpanel.is-hidden {
    display: none;
}

.tabpanel > :first-child {
    margin-top: 0;
}

/* #content is a signature of the Asciidoctor standalone HTML output */
#content .tabpanel > :last-child,
#content .tabpanel > :last-child > :last-child,
#content .tabpanel > :last-child > :last-child > li:last-child > :last-child {
    margin-bottom: 0;
}

.tablecontainer {
    overflow-x: auto;
}

#content .tablecontainer {
    margin-bottom: 1.25em;
}

#content .tablecontainer > table.tableblock {
    margin-bottom: 0;
}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>아카이브 오브 옹알 API 문서</h1>
<div class="details">
<span id="author" class="author">Sangyeop. Nam</span><br>
<span id="email" class="email"><a href="mailto:spearoad15@gmail.com">spearoad15@gmail.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#aar-api">소리기록실(AAR) API</a>
<ul class="sectlevel2">
<li><a href="#aar-authn-flow">소리기록실 인증 플로우</a></li>
<li><a href="#aar-authn-api">인증(Authn) API</a>
<ul class="sectlevel3">
<li><a href="#aar-authn-login-api">SNS 로그인 API</a></li>
<li><a href="#aar-authn-business-login-api">비즈니스 로그인 API</a></li>
<li><a href="#aar-authn-regist-api">회원가입 API</a></li>
<li><a href="#aar-authn-create-email-code-api">이메일 인증코드 생성 API</a></li>
<li><a href="#aar-authn-verify-email-code-api">이메일 인증 API</a></li>
</ul>
</li>
<li><a href="#aar-user-api">사용자(User) API</a>
<ul class="sectlevel3">
<li><a href="#_인증authorization">인증(Authorization)</a></li>
<li><a href="#aar-user-get-nickname-exist-api">닉네임 중복여부 조회 API</a></li>
<li><a href="#aar-user-post-business-user-api">비즈니스 회원가입 API</a></li>
<li><a href="#aar-user-get-me-api">본인정보 조회 API</a></li>
<li><a href="#aar-user-patch-me-api">본인정보 수정 API</a></li>
<li><a href="#aar-user-delete-api">회원탈퇴 API</a></li>
</ul>
</li>
<li><a href="#aar-home-api">홈(Home) API</a>
<ul class="sectlevel3">
<li><a href="#_인증authorization_2">인증(Authorization)</a></li>
<li><a href="#aar-home-get-list-api">홈 리스트 조회 API</a></li>
<li><a href="#aar-home-get-rooms-api">홈 룸 조회 API</a></li>
<li><a href="#aar-home-get-room-items-api">룸 아이템 조회 API</a></li>
<li><a href="#aar-home-get-item-soundsources-api">아이템 음원 조회 API</a></li>
<li><a href="#aar-home-get-soundsource-api">음원 상세조회 API</a></li>
<li><a href="#aar-home-get-soundsource-path-api">전체 음원 경로조회 API</a></li>
<li><a href="#aar-home-name-patch-api">홈 이름 수정 API</a></li>
<li><a href="#aar-home-main-patch-api">메인 홈 수정 API</a></li>
</ul>
</li>
<li><a href="#aar-universe-api">사용자 유니버스(Universe) API</a>
<ul class="sectlevel3">
<li><a href="#aar-public-universe-list-get-api">공개 유니버스 검색 API</a></li>
<li><a href="#aar-public-universe-get-api">공개 유니버스 상세조회 API</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#admin-api">관리자(Admin) API</a>
<ul class="sectlevel2">
<li><a href="#admin-Authn-api">인증(Authn) API</a>
<ul class="sectlevel3">
<li><a href="#admin-authn-id-pw-login-api">1차 : 관리자 ID/PW 로그인 API</a></li>
<li><a href="#admin-authn-sns-login-api">2차 : 관리자 SNS 로그인 API</a></li>
</ul>
</li>
<li><a href="#admin-house-api">하우스(House) API</a>
<ul class="sectlevel3">
<li><a href="#admin-house-post-api">하우스 생성 API</a></li>
<li><a href="#_하우스_생성_시_오류">하우스 생성 시 오류</a></li>
<li><a href="#admin-house-get-list-api">하우스 검색 API</a></li>
<li><a href="#admin-house-get-api">하우스 상세 조회 API</a></li>
<li><a href="#admin-house-patch-api">하우스 정보 수정 API</a></li>
<li><a href="#admin-house-delete-api">하우스 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-room-api">룸(Room) API</a>
<ul class="sectlevel3">
<li><a href="#admin-room-get-api">룸 조회 API</a></li>
<li><a href="#admin-room-get-items-api">룸 &amp; 아이템 조회 API</a></li>
<li><a href="#admin-room-patch-api">룸 정보 수정 API</a></li>
<li><a href="#admin-room-delete-api">룸 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-user-api">사용자(User) API</a>
<ul class="sectlevel3">
<li><a href="#admin-user-get-list-api">사용자 조회 API</a></li>
<li><a href="#admin-user-get-list-v2-api">관리자 유저 조회 API</a></li>
<li><a href="#admin-user-get-home-list-api">사용자 홈 조회 API</a></li>
<li><a href="#admin-user-post-confirm-business-user-api">비즈니스 사용자 회원가입 승인 API</a></li>
</ul>
</li>
<li><a href="#admin-home-api">홈(Home) API</a>
<ul class="sectlevel3">
<li><a href="#admin-home-post-api">홈 생성 API</a></li>
<li><a href="#admin-home-get-api">홈 조회 API</a></li>
<li><a href="#admin-home-delete-api">홈 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-item-api">아이템(Item) API</a>
<ul class="sectlevel3">
<li><a href="#admin-item-post-api">아이템 생성 API</a></li>
<li><a href="#admin-item-post-api-v2">아이템 생성 API V2</a></li>
<li><a href="#admin-item-get-api">아이템 조회 API</a></li>
<li><a href="#admin-item-patch-api">아이템 수정 API</a></li>
<li><a href="#admin-item-delete-api">아이템 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-soundsource-api">음원(SoundSource) API</a>
<ul class="sectlevel3">
<li><a href="#admin-soundsource-get-list-api">전체음원 조회 API</a></li>
<li><a href="#admin-soundsource-post-api">음원 생성 API</a></li>
<li><a href="#admin-soundsource-get-api">음원 조회 API</a></li>
<li><a href="#admin-soundsource-patch-api">음원 수정 API</a></li>
<li><a href="#admin-soundsource-delete-api">음원 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-category-api">카테고리(Category) API</a>
<ul class="sectlevel3">
<li><a href="#admin-category-post-api">카테고리 생성 API</a></li>
<li><a href="#admin-category-get-api">카테고리 검색 API</a></li>
<li><a href="#admin-category-patch-api">특정 카테고리 수정 API</a></li>
<li><a href="#admin-category-delete-api">특정 카테고리 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-universe-api">유니버스(Universe) API</a>
<ul class="sectlevel3">
<li><a href="#admin-universe-post-api">유니버스 생성 API</a></li>
<li><a href="#admin-universe-get-list-api">유니버스 검색 API</a></li>
<li><a href="#admin-universe-get-api">관리자 유니버스 상세정보 조회 API</a></li>
<li><a href="#admin-universe-get-tree-api">관리자 유니버스 트리정보 조회 API</a></li>
<li><a href="#admin-universe-patch-api">특정 유니버스 정보 수정 API</a></li>
<li><a href="#admin-universe-post-update-thumbnail-api">특정 유니버스 썸네일 변경 API</a></li>
<li><a href="#admin-universe-post-update-thumb-music-api">특정 유니버스 썸뮤직 변경 API</a></li>
<li><a href="#admin-universe-post-update-inner-image-api">특정 유니버스 내부 이미지 변경 API</a></li>
<li><a href="#admin-universe-delete-api">특정 유니버스 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-space-api">스페이스(Space) API</a>
<ul class="sectlevel3">
<li><a href="#admin-space-post-api">스페이스 생성 API</a></li>
<li><a href="#admin-space-patch-api">특정 스페이스 정보 수정 API</a></li>
<li><a href="#admin-space-patch-position-api">특정 스페이스 좌표 수정 API</a></li>
<li><a href="#admin-space-post-update-api">특정 스페이스 내부이미지 변경 API</a></li>
<li><a href="#admin-space-delete-api">특정 스페이스 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-piece-api">피스(Piece) API</a>
<ul class="sectlevel3">
<li><a href="#admin-piece-post-api">피스 좌표방식 생성 API</a></li>
<li><a href="#admin-piece-get-api">관리자 특정 피스 내부 조회 API</a></li>
<li><a href="#admin-piece-patch-api">특정 피스 정보 수정 API</a></li>
<li><a href="#admin-piece-patch-position-api">특정 피스 좌표 수정 API</a></li>
<li><a href="#admin-piece-delete-api">특정 피스 삭제 API</a></li>
</ul>
</li>
<li><a href="#admin-sound-api">사운드(Sound) API</a>
<ul class="sectlevel3">
<li><a href="#admin-sound-post-api">사운드 생성 API</a></li>
<li><a href="#admin-sound-patch-api">특정 사운드 정보 수정 API</a></li>
<li><a href="#admin-sound-post-update-api">특정 사운드 오디오 변경 API</a></li>
<li><a href="#admin-sound-delete-api">특정 사운드 삭제 API</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#file-api">파일(File) API</a>
<ul class="sectlevel2">
<li><a href="#file-public-api">공개(Public) API</a>
<ul class="sectlevel3">
<li><a href="#file-public-images-post-api">이미지 업로드 API</a></li>
<li><a href="#file-public-images-get-inline-api">이미지 인라인 다운로드 API</a></li>
<li><a href="#file-public-images-get-attachment-api">이미지 첨부파일 다운로드 API</a></li>
<li><a href="#file-public-audios-post-api">오디오 업로드 API</a></li>
<li><a href="#file-public-audios-get-inline-api">오디오 인라인 다운로드 API</a></li>
<li><a href="#file-public-audios-get-attachment-api">오디오 첨부파일 다운로드 API</a></li>
</ul>
</li>
<li><a href="#file-private-api">비공개(Private) API</a>
<ul class="sectlevel3">
<li><a href="#file-private-images-get-api">이미지 로드 API</a></li>
<li><a href="#file-private-images-get-api-v2">이미지 로드 API(인증)</a></li>
<li><a href="#file-private-audios-get-api">오디오 로드 API</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#error-code">에러코드</a>
<ul class="sectlevel2">
<li><a href="#error-code-API">에러코드 API</a>
<ul class="sectlevel3">
<li><a href="#error-code-aar-api">소리기록실 에러코드 API</a></li>
<li><a href="#error-code-admin-api">관리자 에러코드 API</a></li>
<li><a href="#error-code-file-api">파일 에러코드 API</a></li>
</ul>
</li>
<li><a href="#error-code-table">에러코드 테이블</a>
<ul class="sectlevel3">
<li><a href="#error-code-aar-table">소리기록실 에러코드</a></li>
<li><a href="#error-code-admin-table">관리자 에러코드</a></li>
<li><a href="#error-code-file-table">파일 에러코드</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>아카이브 오브 옹알 공식 API 문서입니다.</p>
</div>
<div class="paragraph">
<p>This is Archive Of Ong(AOO) R Official API Documents.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aar-api">소리기록실(AAR) API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>소리기록실(Audio Record Room; ARR) 사용자를 위한 API입니다.</p>
</div>
<div class="sect2">
<h3 id="aar-authn-flow">소리기록실 인증 플로우</h3>
<div class="imageblock">
<div class="content">
<img src="/Users/leaf/hoo/backend-universe/src/docs/asciidoc/images/login.png" alt="login flow">
</div>
<div class="title">Figure 1. 로그인 플로우차트</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code><strong>User 로그인</strong></code></p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p><code>사용자</code>가 소리기록실 페이지로 접속해서 로그인을 시도합니다.</p>
</li>
<li>
<p><code>프론트엔드</code>에서 <code>백엔드</code>로 특정 서드파티 도메인의 로그인 API 요청을 전송합니다.</p>
</li>
<li>
<p>이를 받은 <code>백엔드</code>는 브라우저를 <code>서드파티</code>의 로그인 페이지로 이동시킵니다.</p>
</li>
</ol>
</div>
</li>
<li>
<p><code><strong>SNS 로그인 시도</strong></code></p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p><code>사용자</code>가 서드파티 페이지에서 로그인을 시도합니다.</p>
</li>
<li>
<p>정상 로그인일 경우, <code>서드파티</code>에서 백엔드로 코드를 전송합니다.</p>
</li>
<li>
<p>해당 코드를 수신한 <code>백엔드</code>는 토큰을 교환하여 사용자 정보를 받습니다.</p>
</li>
</ol>
</div>
</li>
<li>
<p><code><strong>SNS 로그인 완료</strong></code></p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p><code>백엔드</code>에서 받은 사용자 정보를 확인하여 <code>프론트엔드</code>로 전송합니다.</p>
</li>
<li>
<p><code>프론트엔드</code>에서는 해당 사용자 정보를 포함하여 메인 페이지를 전송합니다.</p>
</li>
<li>
<p><code>사용자</code>는 메인 페이지로 이동합니다.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/Users/leaf/hoo/backend-universe/src/docs/asciidoc/images/regist.png" alt="regist flow">
</div>
<div class="title">Figure 2. 회원가입 플로우차트</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code><strong>User 로그인</strong></code></p>
<div class="ulist">
<ul>
<li>
<p>사용자가 로그인을 시도합니다.(로그인 플로우와 동일)</p>
</li>
</ul>
</div>
</li>
<li>
<p><code><strong>SNS 계정 등록</strong></code></p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p><code>백엔드</code>에서 해당 SNS 계정이 등록되어 있지 않으면 해당 계정을 <strong>임시 저장</strong>합니다.</p>
</li>
<li>
<p><code>프론트엔드</code>에게 임시 저장된 계정 정보와 함께 <strong>임시 토큰</strong>을 전송합니다.</p>
</li>
<li>
<p><code>프론트엔드</code>는 해당 정보를 임시 저장하고, 회원가입 페이지를 전송합니다.</p>
</li>
</ol>
</div>
</li>
<li>
<p><code><strong>회원가입</strong></code></p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p><code>사용자</code>는 회원가입 페이지에서 필요한 양식을 채워 회원가입을 시도합니다.</p>
</li>
<li>
<p><code>프론트엔드</code>는 해당 정보를 <code>백엔드</code>로 전송합니다.</p>
</li>
<li>
<p><code>백엔드</code>는 해당 정보를 등록하고, 사용자 정보와 함께 <strong>토큰</strong>을 전송합니다.</p>
</li>
<li>
<p><code>프론트엔드</code>는 해당 사용자 정보를 포함하여 메인 페이지를 전송합니다.</p>
</li>
<li>
<p><code>사용자</code>는 메인 페이지로 이동합니다.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="aar-authn-api">인증(Authn) API</h3>
<div class="paragraph">
<p>소리기록실의 인증을 위한 API입니다.</p>
</div>
<div class="sect3">
<h4 id="aar-authn-login-api">SNS 로그인 API</h4>
<div class="paragraph">
<p>소리기록실에 SNS 로그인을 시도합니다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>서드파티 인증 페이지로 이동</strong>하여 정상 인증이 완료되면 해당 계정으로 로그인합니다.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>operation::aar-authn-login[snippets='path-parameters,http-request,http-response,response-headers']</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>파라미터에 대한 세부 정보는 아래 <strong>Response fields</strong>를 참고바랍니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-authn-login-2[snippets='response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-authn-business-login-api">비즈니스 로그인 API</h4>
<div class="paragraph">
<p>소리기록실에 비즈니스 계정으로 로그인을 시도합니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-post-login-user-business[snippets='http-request,form-parameters,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-authn-regist-api">회원가입 API</h4>
<div class="paragraph">
<p>소리기록실에 회원가입을 시도합니다.</p>
</div>
<div class="paragraph">
<p>사용자 정보 식별을 위해 최초 로그인 시 받은 Access Token을 아래와 같이 포함하여 전송해야 합니다.</p>
</div>
<div class="sect4">
<h5 id="_authorization_header">Authorization Header</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/aar-access-token/response-fields.adoc[]</p>
</div>
<div class="paragraph">
<p>operation::aar-authn-regist[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="aar-authn-create-email-code-api">이메일 인증코드 생성 API</h4>
<div class="paragraph">
<p>이메일 인증을 위한 코드를 메일로 전송합니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-authn-post-email-code[snippets='http-request,form-parameters,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-authn-verify-email-code-api">이메일 인증 API</h4>
<div class="paragraph">
<p>전송된 인증코드로 이메일을 인증합니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-authn-post-email-code-verify[snippets='http-request,form-parameters,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aar-user-api">사용자(User) API</h3>
<div class="sect3">
<h4 id="_인증authorization">인증(Authorization)</h4>
<div class="paragraph">
<p>사용자 정보 조회 및 수정은 인증된 사용자만 가능하기 때문에, 로그인 시 획득한 AccessToken을 반드시 Authorization Header에 포함해야 합니다.</p>
</div>
<div class="sect4">
<h5 id="_authorization_header_2">Authorization Header</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/aar-access-token/response-fields.adoc[]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="aar-user-get-nickname-exist-api">닉네임 중복여부 조회 API</h4>
<div class="paragraph">
<p>특정 닉네임이 존재하는지 확인하기 위한 API입니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-user-get-nickname[snippets='http-request,path-parameters,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-user-post-business-user-api">비즈니스 회원가입 API</h4>
<div class="paragraph">
<p>비즈니스 회원가입을 위한 API입니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>관리자의 승인 후 계정이 활성화됩니다.</p>
</div>
</blockquote>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><a href="#aar-authn-verify-email-code-api">이메일 인증 API</a>를 통해 인증 완료된 이메일만 회원가입이 가능합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-post-user-business[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-user-get-me-api">본인정보 조회 API</h4>
<div class="paragraph">
<p>사용자가 본인의 정보를 조회하기 위한 API입니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-user-get-me[snippets='http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-user-patch-me-api">본인정보 수정 API</h4>
<div class="paragraph">
<p>사용자가 본인의 정보를 수정하기 위한 API입니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-user-patch-me[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-user-delete-api">회원탈퇴 API</h4>
<div class="paragraph">
<p>사용자가 회원탈퇴를 하기 위한 API입니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>연관된 모든 홈, 아이템, 음원, SNS 계정이 삭제되며 삭제된 회원정보를 마스킹하여 별도로 저장합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-user-delete[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aar-home-api">홈(Home) API</h3>
<div class="paragraph">
<p>사용자의 홈과 내부 구성요소(룸, 아이템, 음원)를 조회하기 위한 API입니다.</p>
</div>
<div class="sect3">
<h4 id="_인증authorization_2">인증(Authorization)</h4>
<div class="paragraph">
<p>홈은 인증된 사용자만 조회가 가능하기 때문에, 로그인 시 획득한 AccessToken을 반드시 Authorization Header에 포함해야 합니다.</p>
</div>
<div class="sect4">
<h5 id="_authorization_header_3">Authorization Header</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/aar-access-token/response-fields.adoc[]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-get-list-api">홈 리스트 조회 API</h4>
<div class="paragraph">
<p>사용자의 정보로부터 보유하고 있는 모든 홈을 조회합니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-home-get-list[snippets='http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-get-rooms-api">홈 룸 조회 API</h4>
<div class="paragraph">
<p>사용자의 특정 홈과 내부에 포함된 룸을 모두 조회합니다.</p>
</div>
<div class="paragraph">
<p>operation::aar-home-get-rooms[snippets='query-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-get-room-items-api">룸 아이템 조회 API</h4>
<div class="paragraph">
<p>사용자의 특정 룸 내부에 포함된 아이템을 모두 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
빈 아이템*은 조회되지 않습니다.
</blockquote>
<div class="attribution">
&#8212; * 내부에 활성화(<code>isActive = true</code>)된 음원이 존재하지 않는 아이템
</div>
</div>
<div class="paragraph">
<p>operation::aar-home-get-room-items[snippets='query-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-get-item-soundsources-api">아이템 음원 조회 API</h4>
<div class="paragraph">
<p>사용자의 특정 아이템 내부에 포함된 음원을 모두 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>관리자가 활성화시킨(<code>isActive = true</code>) 음원만 조회됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-home-get-item-soundsources[snippets='query-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-get-soundsource-api">음원 상세조회 API</h4>
<div class="paragraph">
<p>사용자의 특정 음원을 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>관리자가 활성화시킨(<code>isActive = true</code>) 음원만 조회됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-home-get-soundsource[snippets='query-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-get-soundsource-path-api">전체 음원 경로조회 API</h4>
<div class="paragraph">
<p>사용자의 모든 음원과 음원의 경로를 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>관리자가 활성화시킨(<code>isActive = true</code>) 음원만 조회됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-home-get-soundsource-path[snippets='http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-name-patch-api">홈 이름 수정 API</h4>
<div class="paragraph">
<p>사용자가 보유한 홈의 이름을 수정합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>본인이 보유하지 않은 홈을 수정할 경우 403 오류가 발생합니다.</p>
</div>
</blockquote>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>빈 값(Null, 공백)만 전송될 경우 400 오류가 발생합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-home-patch-name[snippets='path-parameters,http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-home-main-patch-api">메인 홈 수정 API</h4>
<div class="paragraph">
<p>사용자가 보유한 메인 홈을 수정합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>본인이 보유하지 않은 홈을 수정할 경우 403 오류가 발생합니다.</p>
</div>
</blockquote>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>메인 홈은 1개만 존재할 수 있으므로, 기존 메인 홈은 더이상 메인이 아니게 됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-home-patch-main[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aar-universe-api">사용자 유니버스(Universe) API</h3>
<div class="sect3">
<h4 id="aar-public-universe-list-get-api">공개 유니버스 검색 API</h4>
<div class="paragraph">
<p>공개된 유니버스를 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>비공개 유니버스는 조회되지 않으며, 로그인한 사용자는 좋아요를 표시했는지 여부가 함께 조회됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-public-universe-get-list[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="aar-public-universe-get-api">공개 유니버스 상세조회 API</h4>
<div class="paragraph">
<p>공개된 유니버스의 상세정보를 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>본인의 것이 아닌 비공개 유니버스나, 숨겨진 스페이스 및 피스는 조회되지 않습니다.</p>
</div>
</blockquote>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>조회 시 조회수가 1 증가하며, 내부의 모든 컴포넌트를 함께 조회합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::aar-public-universe-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="admin-api">관리자(Admin) API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>관리자페이지에서 소리기록실(Audio Archive Room)을 관리하기 위한 API 입니다.</p>
</div>
<div class="sect2">
<h3 id="admin-Authn-api">인증(Authn) API</h3>
<div class="paragraph">
<p>관리자페이지의 보안(인증)을 위한 API입니다.</p>
</div>
<div class="sect3">
<h4 id="admin-authn-id-pw-login-api">1차 : 관리자 ID/PW 로그인 API</h4>
<div class="paragraph">
<p>관리자의 아이디와 비밀번호로 로그인합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-authn-login[snippets='http-request,form-parameters,http-response,response-headers']</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>성공 시 로그인 페이지로 다시 이동하며, URL에 <code>?form-success</code>라는 파라미터가 함께 도착합니다.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect3">
<h4 id="admin-authn-sns-login-api">2차 : 관리자 SNS 로그인 API</h4>
<div class="paragraph">
<p>관리자가 소유한 SNS ID로 로그인을 시도합니다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>서드파티 인증 페이지로 이동</strong>하여 정상 인증이 완료되면 해당 계정으로 로그인합니다.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>operation::admin-authn-sns-login[snippets='path-parameters,http-request,http-response,response-headers']</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>성공 시 로그인 페이지로 다시 이동하며, URL에 <code>?sns-success</code>라는 파라미터가 함께 도착합니다.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-house-api">하우스(House) API</h3>
<div class="paragraph">
<p>하우스 관리를 위한 API 입니다.</p>
</div>
<div class="sect3">
<h4 id="admin-house-post-api">하우스 생성 API</h4>
<div class="paragraph">
<p>관리자가 지정한 하우스의 좌표에 맞게 하우스를 저장합니다.</p>
</div>
<div class="sect4">
<h5 id="_http_request">Http Request</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-house-post/http-request.adoc[]</p>
</div>
</div>
<div class="sect4">
<h5 id="_request_form">Request Form</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-house-post/request-parts.adoc[]</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>위 요청에서 각 이미지 파일의 <strong>Form 태그 snsAccountInfo 속성값</strong>은 아래 <a href="#_createhousemetadata">CreateHouseMetadata</a>와 일치해야 합니다.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect4">
<h5 id="_createhousemetadata_예시">CreateHouseMetadata 예시</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-create-house-metadata/response-body.adoc[]</p>
</div>
</div>
<div class="sect4">
<h5 id="_createhousemetadata">CreateHouseMetadata</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-create-house-metadata/response-fields.adoc[]</p>
</div>
<div class="paragraph">
<p>operation::admin-house-post[snippets='http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_하우스_생성_시_오류">하우스 생성 시 오류</h4>
<div class="sect4">
<h5 id="_전송타입_오류">전송타입 오류</h5>
<div class="paragraph">
<p>전송타입(<code>Content-Type</code>)이 <code>Multipart-FormData</code>가 아닐 경우, 다음과 같은 오류가 발생합니다.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-house-post-error-1/response-body.adoc[]</p>
</div>
</div>
<div class="sect4">
<h5 id="_하우스_이미지_파일_중복_오류">하우스 이미지 파일 중복 오류</h5>
<div class="paragraph">
<p>하우스 생성 시 프로필 이미지 파일(<code>houseForm</code>)과 테두리 이미지 파일(<code>borderForm</code>)이 중복되면 다음과 같은 오류가 발생합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>업로드한 이미지 파일의 <code>이름(파일명)</code>이 동일한지 검사합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-house-post-error-2/response-body.adoc[]</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-house-get-list-api">하우스 검색 API</h4>
<div class="paragraph">
<p>여러 건의 하우스를 검색 조건에 맞게 조회합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-house-get-list[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-house-get-api">하우스 상세 조회 API</h4>
<div class="paragraph">
<p>하우스와 내부 룸에 대한 상세 정보를 조회합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-house-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-house-patch-api">하우스 정보 수정 API</h4>
<div class="paragraph">
<p>하우스의 기본 정보를 수정하는 API입니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>하우스의 이미지와 좌표는 최초 생성 이후 수정할 수 없습니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-house-patch[snippets='path-parameters,http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-house-delete-api">하우스 삭제 API</h4>
<div class="paragraph">
<p>하우스와 내부의 룸을 모두 삭제하는 API입니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>삭제 시 해당 하우스의 기본 이미지, 보더 이미지를 함께 삭제합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-house-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>해당 하우스로 생성된 홈이 있을 경우, 삭제할 수 업습니다.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-room-api">룸(Room) API</h3>
<div class="paragraph">
<p>룸 관리를 위한 API 입니다.</p>
</div>
<div class="sect3">
<h4 id="admin-room-get-api">룸 조회 API</h4>
<div class="paragraph">
<p>룸에 대한 정보를 조회하는 API입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-room-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-room-get-items-api">룸 &amp; 아이템 조회 API</h4>
<div class="paragraph">
<p>룸과 해당 룸 안의 아이템 정보를 조회하는 API입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-room-get-items[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-room-patch-api">룸 정보 수정 API</h4>
<div class="paragraph">
<p>룸의 기본 정보를 수정하는 API입니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>룸의 이미지와 좌표는 최초 생성 이후 수정할 수 없습니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-room-patch[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-room-delete-api">룸 삭제 API</h4>
<div class="paragraph">
<p>룸을 삭제하는 API입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-room-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>룸 내부에 아이템이 포함되어 있을 경우 삭제할 수 없습니다.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-user-api">사용자(User) API</h3>
<div class="paragraph">
<p>소리기록실 사용자 정보 관리를 위한 API 입니다.</p>
</div>
<div class="sect3">
<h4 id="admin-user-get-list-api">사용자 조회 API</h4>
<div class="paragraph">
<p>관리자가 유저를 조회하는 API 입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-user-get-list[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-user-get-list-v2-api">관리자 유저 조회 API</h4>
<div class="paragraph">
<p>관리자가 유저를 조회하는 API 입니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>민감정보를 포함하고 있어 주의가 필요합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-user-get-list-v2[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-user-get-home-list-api">사용자 홈 조회 API</h4>
<div class="paragraph">
<p>사용자가 보유한 홈을 조회하는 API 입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-user-get-home-list[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-user-post-confirm-business-user-api">비즈니스 사용자 회원가입 승인 API</h4>
<div class="paragraph">
<p>특정 비즈니스 사용자의 가입을 승인하는 API입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-post-confirm-user-business[snippets='form-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-home-api">홈(Home) API</h3>
<div class="paragraph">
<p>소리기록실의 홈 정보 관리를 위한 API 입니다.</p>
</div>
<div class="sect3">
<h4 id="admin-home-post-api">홈 생성 API</h4>
<div class="paragraph">
<p>홈을 생성하는 API 입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-home-post[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-home-get-api">홈 조회 API</h4>
<div class="paragraph">
<p>홈 정보를 조회하는 API 입니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-home-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-home-delete-api">홈 삭제 API</h4>
<div class="paragraph">
<p>홈을 삭제하는 API 입니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>홈 내부에 아이템이 존재할 경우, 함께 삭제됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-home-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-item-api">아이템(Item) API</h3>
<div class="sect3">
<h4 id="admin-item-post-api">아이템 생성 API</h4>
<div class="paragraph">
<p>관리자가 지정한 아이템의 좌표에 맞게 아이템을 저장합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-item-post[snippets='path-parameters,http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-item-post-api-v2">아이템 생성 API V2</h4>
<div class="paragraph">
<p>아이템 생성과 수정을 함께 처리합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-item-post-v2[snippets='path-parameters,http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-item-get-api">아이템 조회 API</h4>
<div class="paragraph">
<p>아이템에 저장된 음원 리스트를 불러옵니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-item-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-item-patch-api">아이템 수정 API</h4>
<div class="paragraph">
<p>아이템의 정보를 수정합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>해당 아이템의 이름과 형태(좌표 + 모양)를 수정할 수 있습니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-item-patch[snippets='path-parameters,http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-item-delete-api">아이템 삭제 API</h4>
<div class="paragraph">
<p>아이템을 삭제합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>음원이 포함된 아이템은 삭제할 수 없습니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-item-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-soundsource-api">음원(SoundSource) API</h3>
<div class="sect3">
<h4 id="admin-soundsource-get-list-api">전체음원 조회 API</h4>
<div class="paragraph">
<p>저장된 전체 음원을 불러옵니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-soundsource-get-list[snippets='http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-soundsource-post-api">음원 생성 API</h4>
<div class="paragraph">
<p>관리자가 아이템 내부에 음원을 추가합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-soundsource-post[snippets='path-parameters,http-request,request-parts']</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>음원 생성 시 메타데이터 정보는 아래 <a href="#_createsoundsourcemetadata">CreateSoundSourceMetadata</a>를 참고하시기 바랍니다.</p>
</div>
</blockquote>
</div>
<div class="sect4">
<h5 id="_createsoundsourcemetadata_예시">CreateSoundSourceMetadata 예시</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-create-soundsource-metadata/response-body.adoc[]</p>
</div>
</div>
<div class="sect4">
<h5 id="_createsoundsourcemetadata">CreateSoundSourceMetadata</h5>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-create-soundsource-metadata/response-fields.adoc[]</p>
</div>
<div class="paragraph">
<p>operation::admin-soundsource-post[snippets='http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-soundsource-get-api">음원 조회 API</h4>
<div class="paragraph">
<p>음원에 저장된 정보와 함께 음악 파일 식별자를 불러옵니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-soundsource-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-soundsource-patch-api">음원 수정 API</h4>
<div class="paragraph">
<p>음원의 정보를 수정합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>음원에 저장된 파일은 수정할 수 없습니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-soundsource-patch[snippets='path-parameters,http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-soundsource-delete-api">음원 삭제 API</h4>
<div class="paragraph">
<p>음원을 삭제합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-soundsource-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-category-api">카테고리(Category) API</h3>
<div class="sect3">
<h4 id="admin-category-post-api">카테고리 생성 API</h4>
<div class="paragraph">
<p>관리자가 카테고리를 생성합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-category-post[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-category-get-api">카테고리 검색 API</h4>
<div class="paragraph">
<p>관리자가 전체 카테고리를 검색합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-category-get[snippets='http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-category-patch-api">특정 카테고리 수정 API</h4>
<div class="paragraph">
<p>관리자가 특정 카테고리를 수정합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-category-patch[snippets='http-request,path-parameters,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-category-delete-api">특정 카테고리 삭제 API</h4>
<div class="paragraph">
<p>관리자가 특정 카테고리를 삭제합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-category-delete[snippets='http-request,path-parameters,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-universe-api">유니버스(Universe) API</h3>
<div class="sect3">
<h4 id="admin-universe-post-api">유니버스 생성 API</h4>
<div class="paragraph">
<p>관리자가 유니버스를 생성합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-universe-post[snippets='http-request,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-get-list-api">유니버스 검색 API</h4>
<div class="paragraph">
<p>관리자가 유니버스를 검색합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>비공개 유니버스도 검색되며, 유니버스의 모든 정보가 공개됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-universe-get-list[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-get-api">관리자 유니버스 상세정보 조회 API</h4>
<div class="paragraph">
<p>관리자가 특정 유니버스를 상세조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>비공개 유니버스도 검색되며, 유니버스의 모든 정보가 공개됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-universe-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-get-tree-api">관리자 유니버스 트리정보 조회 API</h4>
<div class="paragraph">
<p>관리자가 특정 유니버스의 트리정보를 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>비공개 유니버스도 검색되며, 유니버스의 모든 정보가 공개됩니다.</p>
</div>
</blockquote>
</div>
<div class="sect4">
<h5 id="_유니버스_트리">유니버스 트리</h5>
<div class="ulist">
<ul>
<li>
<p>유니버스는 다음과 같이 트리 형태로 구성됩니다.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/Users/leaf/hoo/backend-universe/src/docs/asciidoc/images/universe-tree.png" alt="universe tree">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>위 트리구조를 집합으로 표현하면 다음과 같습니다.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/Users/leaf/hoo/backend-universe/src/docs/asciidoc/images/universe-nested.png" alt="universe nested">
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>아래 API 예시는 위 그림을 토대로 작성하였습니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-universe-get-tree[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-patch-api">특정 유니버스 정보 수정 API</h4>
<div class="paragraph">
<p>관리자가 특정 유니버스를 수정합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-universe-patch[snippets='path-parameters,http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-post-update-thumbnail-api">특정 유니버스 썸네일 변경 API</h4>
<div class="paragraph">
<p>관리자가 유니버스의 썸네일을 변경합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>썸네일 파일 용량은 2MB를 초과할 수 없으며, 기존 썸네일은 삭제됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-universe-post-update-thumbnail[snippets='path-parameters,http-request,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-post-update-thumb-music-api">특정 유니버스 썸뮤직 변경 API</h4>
<div class="paragraph">
<p>관리자가 유니버스의 썸뮤직을 변경합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>썸뮤직 파일 용량은 2MB를 초과할 수 없으며, 기존 썸뮤직은 삭제됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-universe-post-update-thumb-music[snippets='path-parameters,http-request,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-post-update-inner-image-api">특정 유니버스 내부 이미지 변경 API</h4>
<div class="paragraph">
<p>관리자가 유니버스의 내부 이미지를 변경합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>내부 이미지 파일 용량은 5MB를 초과할 수 없으며, 기존 내부 이미지는 삭제됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-universe-post-update-inner-image[snippets='path-parameters,http-request,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-universe-delete-api">특정 유니버스 삭제 API</h4>
<div class="paragraph">
<p>관리자가 특정 유니버스를 삭제합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>유니버스 내부의 모든 연관된 정보(좋아요, 해시태그, 썸네일, 썸뮤직, 스페이스, 피스)를 함께 삭제합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-universe-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-space-api">스페이스(Space) API</h3>
<div class="sect3">
<h4 id="admin-space-post-api">스페이스 생성 API</h4>
<div class="paragraph">
<p>관리자가 스페이스를 생성합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-space-post[snippets='http-request,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-space-patch-api">특정 스페이스 정보 수정 API</h4>
<div class="paragraph">
<p>관리자가 특정 스페이스의 정보를 수정합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-space-patch[snippets='http-request,path-parameters,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-space-patch-position-api">특정 스페이스 좌표 수정 API</h4>
<div class="paragraph">
<p>관리자가 특정 스페이스의 좌표를 수정합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-space-patch-position[snippets='http-request,path-parameters,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-space-post-update-api">특정 스페이스 내부이미지 변경 API</h4>
<div class="paragraph">
<p>관리자가 특정 스페이스의 내부이미지를 변경합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-space-post-update-inner-image[snippets='http-request,path-parameters,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-space-delete-api">특정 스페이스 삭제 API</h4>
<div class="paragraph">
<p>관리자가 특정 스페이스를 삭제합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>스페이스 내부의 모든 연관된 정보(하위 스페이스, 피스, 오디오 파일, 이미지 파일)를 함께 삭제합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-space-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-piece-api">피스(Piece) API</h3>
<div class="sect3">
<h4 id="admin-piece-post-api">피스 좌표방식 생성 API</h4>
<div class="paragraph">
<p>관리자가 좌표방식으로 피스를 생성합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>해당 API로 생성된 피스는 내부이미지 ID가 -1입니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-piece-post[snippets='http-request,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-piece-get-api">관리자 특정 피스 내부 조회 API</h4>
<div class="paragraph">
<p>관리자가 특정 피스를 내부 사운드와 함께 조회합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>비공개 사운드도 검색됩니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-piece-get[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-piece-patch-api">특정 피스 정보 수정 API</h4>
<div class="paragraph">
<p>관리자가 특정 피스의 정보를 수정합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-piece-patch[snippets='http-request,path-parameters,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-piece-patch-position-api">특정 피스 좌표 수정 API</h4>
<div class="paragraph">
<p>관리자가 특정 피스의 좌표를 수정합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-piece-patch-position[snippets='http-request,path-parameters,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-piece-delete-api">특정 피스 삭제 API</h4>
<div class="paragraph">
<p>관리자가 특정 피스를 삭제합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>피스 내부의 모든 연관된 정보(오디오 파일, 이미지 파일)를 함께 삭제합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-piece-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="admin-sound-api">사운드(Sound) API</h3>
<div class="sect3">
<h4 id="admin-sound-post-api">사운드 생성 API</h4>
<div class="paragraph">
<p>관리자가 사운드를 생성합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-sound-post[snippets='http-request,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-sound-patch-api">특정 사운드 정보 수정 API</h4>
<div class="paragraph">
<p>관리자가 특정 사운드의 정보를 수정합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-sound-patch[snippets='http-request,path-parameters,request-fields,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-sound-post-update-api">특정 사운드 오디오 변경 API</h4>
<div class="paragraph">
<p>관리자가 특정 스페이스의 오디오 파일을 변경합니다.</p>
</div>
<div class="paragraph">
<p>operation::admin-sound-post-update-audio[snippets='http-request,path-parameters,request-parts,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="admin-sound-delete-api">특정 사운드 삭제 API</h4>
<div class="paragraph">
<p>관리자가 특정 사운드를 삭제합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>사운드 내부의 오디오 파일을 함께 삭제합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::admin-sound-delete[snippets='path-parameters,http-request,http-response,response-fields']</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="file-api">파일(File) API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>파일서버의 업로드, 다운로드와 관련된 API입니다.</p>
</div>
<div class="sect2">
<h3 id="file-public-api">공개(Public) API</h3>
<div class="paragraph">
<p>별도의 권한 없이 요청 가능한 API입니다.</p>
</div>
<div class="sect3">
<h4 id="file-public-images-post-api">이미지 업로드 API</h4>
<div class="paragraph">
<p>이미지 파일을 공개 서버에 업로드합니다.</p>
</div>
<div class="paragraph">
<p>operation::file-public-images-upload[snippets='http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="file-public-images-get-inline-api">이미지 인라인 다운로드 API</h4>
<div class="paragraph">
<p>이미지 파일을 공개 서버로부터 다운로드합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>해당 API는 인라인 방식으로, 브라우저에서는 &lt;img/&gt; 태그 내부의 파일로 인식합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::file-public-images-download-inline[snippets='path-parameters,http-request,response-file']</p>
</div>
</div>
<div class="sect3">
<h4 id="file-public-images-get-attachment-api">이미지 첨부파일 다운로드 API</h4>
<div class="paragraph">
<p>이미지 파일을 공개 서버로부터 다운로드합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>해당 API는 첨부파일 방식으로, 브라우저에서는 첨부파일로 다운로드를 시도합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::file-public-images-download-attachment[snippets='path-parameters,http-request,response-file']</p>
</div>
</div>
<div class="sect3">
<h4 id="file-public-audios-post-api">오디오 업로드 API</h4>
<div class="paragraph">
<p>오디오 파일을 공개 서버에 업로드합니다.</p>
</div>
<div class="paragraph">
<p>operation::file-public-audio-upload[snippets='http-request,http-response,response-fields']</p>
</div>
</div>
<div class="sect3">
<h4 id="file-public-audios-get-inline-api">오디오 인라인 다운로드 API</h4>
<div class="paragraph">
<p>오디오 파일을 공개 서버로부터 다운로드합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>해당 API는 인라인 방식으로, 브라우저에서는 &lt;audio/&gt; 태그 내부의 파일로 인식합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::file-public-audios-download-inline[snippets='path-parameters,http-request,response-file']</p>
</div>
</div>
<div class="sect3">
<h4 id="file-public-audios-get-attachment-api">오디오 첨부파일 다운로드 API</h4>
<div class="paragraph">
<p>오디오 파일을 공개 서버로부터 다운로드합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>해당 API는 첨부파일 방식으로, 브라우저에서는 첨부파일로 다운로드를 시도합니다.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>operation::file-public-audios-download-attachment[snippets='path-parameters,http-request,response-file']</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="file-private-api">비공개(Private) API</h3>
<div class="paragraph">
<p>해당 API는 <strong>PRIVATE_FILE_ACCESS</strong> 권한이 필요합니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>차후 해당 권한을 바탕으로 자원 접근을 제어할 예정입니다.</p>
</div>
</blockquote>
</div>
<div class="sect3">
<h4 id="file-private-images-get-api">이미지 로드 API</h4>
<div class="paragraph">
<p>이미지 파일을 비공개 서버로부터 로드합니다.</p>
</div>
<div class="paragraph">
<p>operation::file-private-images-download[snippets='path-parameters,http-request,response-file']</p>
</div>
</div>
<div class="sect3">
<h4 id="file-private-images-get-api-v2">이미지 로드 API(인증)</h4>
<div class="paragraph">
<p>이미지 파일을 비공개 서버로부터 로드합니다. 요청 시 해당 사용자의 권한을 함께 검사합니다.</p>
</div>
<div class="paragraph">
<p>operation::file-private-images-download-v2[snippets='path-parameters,query-parameters,http-request']</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>응답은 <a href="#file-private-api">비공개(Private) API</a>와 동일합니다.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect3">
<h4 id="file-private-audios-get-api">오디오 로드 API</h4>
<div class="paragraph">
<p>오디오 파일을 비공개 서버로부터 로드합니다.</p>
</div>
<div class="paragraph">
<p>operation::file-private-audios-download[snippets='path-parameters,http-request,response-file']</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="error-code">에러코드</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="error-code-API">에러코드 API</h3>
<div class="paragraph">
<p>API 요청 간 발생하는 에러코드를 조회할 수 있습니다.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>에러코드 조회 API</strong>의 응답 결과는 아래 <a href="#error-code-table">에러코드 테이블</a>을 참고 바랍니다.</p>
</div>
</blockquote>
</div>
<div class="sect3">
<h4 id="error-code-aar-api">소리기록실 에러코드 API</h4>
<div class="paragraph">
<p>소리기록실에서 관리하는 에러코드를 확인할 수 있습니다.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/aar-error-code/http-request.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="error-code-admin-api">관리자 에러코드 API</h4>
<div class="paragraph">
<p>관리자 페이지에서 관리하는 에러코드를 확인할 수 있습니다.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-error-code/http-request.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="error-code-file-api">파일 에러코드 API</h4>
<div class="paragraph">
<p>파일 서버에서 관리하는 에러코드를 확인할 수 있습니다.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/file-error-code/http-request.adoc[]</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="error-code-table">에러코드 테이블</h3>
<div class="paragraph">
<p>전체 에러코드는 다음 표에서 확인할 수 있습니다.
해당 표에서 확인되지 않는 에러코드는 별도 문의 바랍니다.</p>
</div>
<div class="sect3">
<h4 id="error-code-aar-table">소리기록실 에러코드</h4>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/aar-error-code/error-code-response-fields.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="error-code-admin-table">관리자 에러코드</h4>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/admin-error-code/error-code-response-fields.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="error-code-file-table">파일 에러코드</h4>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::{snippets}/file-error-code/error-code-response-fields.adoc[]</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-07-01 19:25:06 -0500
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
<script>
;(function () { /*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
  'use strict'

  var config = (document.currentScript || {}).dataset || {}
  var forEach = Array.prototype.forEach

  init(document.querySelectorAll('.tabs'))

  function init (tabsBlocks) {
    if (!tabsBlocks.length) return
    forEach.call(tabsBlocks, function (tabs) {
      var syncIds = tabs.classList.contains('is-sync') ? {} : undefined
      var tablist = tabs.querySelector('.tablist ul')
      tablist.setAttribute('role', 'tablist')
      var start
      forEach.call(tablist.querySelectorAll('li'), function (tab, idx) {
        tab.tabIndex = -1
        tab.setAttribute('role', tab.classList.add('tab') || 'tab')
        var id, anchor, syncId
        if (!(id = tab.id) && (anchor = tab.querySelector('a[id]'))) {
          id = tab.id = anchor.parentNode.removeChild(anchor).id
        }
        var panel = id && tabs.querySelector('.tabpanel[aria-labelledby~="' + id + '"]')
        if (!panel) return idx ? undefined : toggleSelected(tab, true) // invalid state
        syncIds && (((syncId = tab.textContent.trim()) in syncIds) ? (syncId = undefined) : true) &&
        (syncIds[(tab.dataset.syncId = syncId)] = tab)
        idx || (syncIds && (start = { tab: tab, panel: panel })) ? toggleHidden(panel, true) : toggleSelected(tab, true)
        tab.setAttribute('aria-controls', panel.id)
        panel.setAttribute('role', 'tabpanel')
        var onClick = syncId === undefined ? activateTab : activateTabSync
        tab.addEventListener('click', onClick.bind({ tabs: tabs, tab: tab, panel: panel }))
      })
      if (!tabs.closest('.tabpanel')) {
        forEach.call(tabs.querySelectorAll('.tabpanel table.tableblock'), function (table) {
          var container = Object.assign(document.createElement('div'), { className: 'tablecontainer' })
          table.parentNode.insertBefore(container, table).appendChild(table)
        })
      }
      if (start) {
        var syncGroupId
        for (var i = 0, lst = tabs.classList, len = lst.length, className; i !== len; i++) {
          if (!(className = lst.item(i)).startsWith('data-sync-group-id=')) continue
          tabs.dataset.syncGroupId = syncGroupId = lst.remove(className) || className.slice(19).replace(/\u00a0/g, ' ')
          break
        }
        if (syncGroupId === undefined) tabs.dataset.syncGroupId = syncGroupId = Object.keys(syncIds).sort().join('|')
        var preferredSyncId = 'syncStorageKey' in config &&
          window[(config.syncStorageScope || 'local') + 'Storage'].getItem(config.syncStorageKey + '-' + syncGroupId)
        var tab = preferredSyncId && syncIds[preferredSyncId]
        tab && Object.assign(start, { tab: tab, panel: document.getElementById(tab.getAttribute('aria-controls')) })
        toggleSelected(start.tab, true) || toggleHidden(start.panel, false)
      }
    })
    onHashChange()
    toggleClassOnEach(tabsBlocks, 'is-loading', 'remove')
    window.setTimeout(toggleClassOnEach.bind(null, tabsBlocks, 'is-loaded', 'add'), 0)
    window.addEventListener('hashchange', onHashChange)
  }

  function activateTab (e) {
    var tab = this.tab
    var tabs = this.tabs || (this.tabs = tab.closest('.tabs'))
    var panel = this.panel || (this.panel = document.getElementById(tab.getAttribute('aria-controls')))
    querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (el) {
      toggleSelected(el, el === tab)
    })
    querySelectorWithSiblings(tabs, '.tabpanel', 'tabpanel').forEach(function (el) {
      toggleHidden(el, el !== panel)
    })
    if (!this.isSync && 'syncStorageKey' in config && 'syncGroupId' in tabs.dataset) {
      var storageKey = config.syncStorageKey + '-' + tabs.dataset.syncGroupId
      window[(config.syncStorageScope || 'local') + 'Storage'].setItem(storageKey, tab.dataset.syncId)
    }
    if (!e) return
    var loc = window.location
    var hashIdx = loc.hash ? loc.href.indexOf('#') : -1
    if (~hashIdx) window.history.replaceState(null, '', loc.href.slice(0, hashIdx))
    e.preventDefault()
  }

  function activateTabSync (e) {
    activateTab.call(this, e)
    var thisTabs = this.tabs
    var thisTab = this.tab
    var initialY = thisTabs.getBoundingClientRect().y
    forEach.call(document.querySelectorAll('.tabs'), function (tabs) {
      if (tabs === thisTabs || tabs.dataset.syncGroupId !== thisTabs.dataset.syncGroupId) return
      querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (tab) {
        if (tab.dataset.syncId === thisTab.dataset.syncId) activateTab.call({ tabs: tabs, tab: tab, isSync: true })
      })
    })
    var shiftedBy = thisTabs.getBoundingClientRect().y - initialY
    if (shiftedBy && (shiftedBy = Math.round(shiftedBy))) window.scrollBy({ top: shiftedBy, behavior: 'instant' })
  }

  function querySelectorWithSiblings (scope, selector, siblingClass) {
    var el = scope.querySelector(selector)
    if (!el) return []
    var result = [el]
    while ((el = el.nextElementSibling) && el.classList.contains(siblingClass)) result.push(el)
    return result
  }

  function toggleClassOnEach (elements, className, method) {
    forEach.call(elements, function (el) {
      el.classList[method](className)
    })
  }

  function toggleHidden (el, state) {
    el.classList[(el.hidden = state) ? 'add' : 'remove']('is-hidden')
  }

  function toggleSelected (el, state) {
    el.setAttribute('aria-selected', '' + state)
    el.classList[state ? 'add' : 'remove']('is-selected')
    el.tabIndex = state ? 0 : -1
  }

  function onHashChange () {
    var id = window.location.hash.slice(1)
    if (!id) return
    var tab = document.getElementById(~id.indexOf('%') ? decodeURIComponent(id) : id)
    if (!(tab && tab.classList.contains('tab'))) return
    'syncId' in tab.dataset ? activateTabSync.call({ tab: tab }) : activateTab.call({ tab: tab })
  }
})()
</script>
</body>
</html>